{
  "version": 2,
  "rewrites": [
    {
      "source": "/_supabase/:path*",
      "destination": "https://jexrtsyokhegjxnvqjur.supabase.co/:path*"
    },
    {
      "source": "/api/db/:path*",
      "destination": "https://jexrtsyokhegjxnvqjur.supabase.co/:path*"
    }
  ],
  "routes": [
    {
      "src": "/assets/(.*)",
      "dest": "/assets/$1",
      "headers": {
        "Cache-Control": "public, max-age=31536000, immutable",
        "X-Content-Type-Options": "nosniff"
      }
    },
    {
      "src": "/manifest.webmanifest",
      "dest": "/manifest.webmanifest",
      "headers": {
        "Content-Type": "application/manifest+json",
        "Cache-Control": "public, max-age=86400"
      }
    },
    {
      "src": "/(sw\\.js|registerSW\\.js)",
      "dest": "/$1",
      "headers": {
        "Cache-Control": "no-cache",
        "Content-Type": "application/javascript"
      }
    },
    {
      "src": "/(pwa-.*\\.png|vite\\.svg|favicon\\.ico|robots\\.txt|top-focus-icon\\.png)",
      "dest": "/$1",
      "headers": {
        "Cache-Control": "public, max-age=86400"
      }
    },
    {
      "src": "/(.*)\\.js",
      "dest": "/$1.js",
      "headers": {
        "Content-Type": "application/javascript"
      }
    },
    {
      "src": "/(.*)\\.css",
      "dest": "/$1.css",
      "headers": {
        "Content-Type": "text/css"
      }
    },
    {
      "src": "/(.*)\\.json",
      "dest": "/$1.json",
      "headers": {
        "Content-Type": "application/json"
      }
    },
    {
      "handle": "filesystem"
    },
    {
      "src": "/((?!api|_supabase|assets).*)",
      "dest": "/index.html"
    }
  ]
}
